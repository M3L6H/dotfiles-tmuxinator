# /home/m3l6h/.config/tmuxinator/tmuxinator.yml

name: tmuxinator
root: /home/m3l6h/files/.config/tmuxinator/

on_project_start:
  - cp /persist/home/$USER/.zsh_history-tmuxinator /home/$USER/.zsh_history
  - cp /persist/home/m3l6h/.local/state/nvim/shada/main.shada-tmuxinator /home/m3l6h/.local/state/nvim/shada/main.shada

on_project_exit:
  - mv /home/$USER/.zsh_history /persist/home/$USER/.zsh_history-tmuxinator
  - cp /persist/home/$USER/.zsh_history /home/$USER/.zsh_history
  - mv /home/m3l6h/.local/state/nvim/shada/main.shada /persist/home/m3l6h/.local/state/nvim/shada/main.shada-tmuxinator
  - cp /persist/home/m3l6h/.local/state/nvim/shada/main.shada /home/m3l6h/.local/state/nvim/shada/main.shada

pre_window:
  - export NEOVIM_SOCKET='/tmp/nvimsocket-tmuxinator'
  - tmux setenv NEOVIM_SOCKET $tmuxinator_SOCKET
  - clear

windows:
  # Enable controlling tmuxinator with neovim-remote
  - tmuxinator: nvim --listen /tmp/nvimsocket-tmuxinator
  - term:
      -
